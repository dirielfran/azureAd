# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Application Configuration
spring.application.name=api-protegida-entra

# Microsoft Entra ID (Azure AD) Configuration
spring.cloud.azure.active-directory.enabled=true
spring.cloud.azure.active-directory.profile.tenant-id=f128ae87-3797-42d7-8490-82c6b570f832
spring.cloud.azure.active-directory.credential.client-id=4a12fbd8-bf63-4c12-be4c-9678b207fbe7
spring.cloud.azure.active-directory.credential.client-secret=wTu8Q~nC5v31H6fYqV8HKX9M3zIz1b.UQSt0hcr5
spring.cloud.azure.active-directory.app-id-uri=api://4a12fbd8-bf63-4c12-be4c-9678b207fbe7
spring.cloud.azure.active-directory.authorization-clients.angular-client.scopes=access_as_user

# Database Configuration (H2 for development)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# H2 Console Configuration
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.defer-datasource-initialization=true
spring.jpa.properties.hibernate.format_sql=true

# SQL Initialization
spring.sql.init.mode=always

# OAuth2 Resource Server Configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://login.microsoftonline.com/f128ae87-3797-42d7-8490-82c6b570f832/v2.0
spring.security.oauth2.resourceserver.jwt.audiences[0]=api://4a12fbd8-bf63-4c12-be4c-9678b207fbe7
spring.security.oauth2.resourceserver.jwt.audiences[1]=4a12fbd8-bf63-4c12-be4c-9678b207fbe7

# Logging Configuration
logging.level.com.example.apiprotegida=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# CORS Configuration
cors.allowed-origins=http://localhost:4200,https://localhost:4200
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
